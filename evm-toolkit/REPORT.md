# EVM Toolkit å¼€å‘æŠ¥å‘Š

## é¡¹ç›®æ¦‚è¿°

EVM Toolkit æ˜¯ä¸€å¥—åŸºäº ethers.js v6 çš„ EVM é“¾ä¸Šé’±åŒ…ç®¡ç†ä¸æ‰¹é‡æ“ä½œå·¥å…·é›†ï¼Œæ”¯æŒé’±åŒ…ç”Ÿæˆã€ä½™é¢æŸ¥è¯¢ã€æ‰¹é‡è½¬è´¦ã€èµ„é‡‘å½’é›†ã€åœ°å€éªŒè¯ã€æ ‡ç­¾ç®¡ç†ç­‰åŠŸèƒ½ã€‚

- ä½ç½®ï¼š`skills/evm-toolkit/`
- è¿è¡Œæ—¶ï¼šNode.js v22 + ethers.js 6.16.0
- æ–‡ä»¶æ•°ï¼š13 ä¸ª JS è„šæœ¬ + 3 ä¸ª Shell è„šæœ¬ + 1 ä¸ªæµ‹è¯•æ–‡ä»¶
- å®¡æŸ¥è½®æ¬¡ï¼š14+ è½®
- ä¿®å¤é—®é¢˜ï¼š50+ ä¸ª

---

## æ¶æ„

```
evm-toolkit/
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ evm-common.js          # å…¬å…±æ¨¡å—ï¼ˆå¸¸é‡/ABI/å·¥å…·å‡½æ•°/Gasç¡®è®¤ï¼‰
â”‚   â”œâ”€â”€ evm.js                 # ç»Ÿä¸€è·¯ç”±å…¥å£ï¼ˆ11ä¸ªå­å‘½ä»¤ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ evm-wallet-gen.js      # å•é’±åŒ…ç”Ÿæˆï¼ˆéšæœº/åŠ©è®°è¯æ´¾ç”Ÿï¼‰
â”‚   â”œâ”€â”€ evm-batch-gen.js       # æ‰¹é‡ç”Ÿæˆï¼ˆJSON/CSV/Listå¯¼å‡ºï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ evm-balance.js         # å•åœ°å€/æ‰¹é‡ä½™é¢æŸ¥è¯¢
â”‚   â”œâ”€â”€ evm-batch-query.js     # æ‰¹é‡ä½™é¢æŸ¥è¯¢ï¼ˆä¼˜åŒ–ç‰ˆï¼‰
â”‚   â”œâ”€â”€ evm-info.js            # åœ°å€è¯¦ç»†ä¿¡æ¯ï¼ˆç±»å‹/nonce/ä»£å¸ï¼‰
â”‚   â”œâ”€â”€ evm-tx-history.js      # äº¤æ˜“å†å²ï¼ˆEtherscan APIï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ evm-batch-transfer.js  # æ‰¹é‡è½¬è´¦ï¼ˆETH/ERC20ï¼‰
â”‚   â”œâ”€â”€ evm-collect.js         # èµ„é‡‘å½’é›†ï¼ˆETH/ERC20ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ evm-labels.js          # åœ°å€æ ‡ç­¾ç®¡ç†ï¼ˆCRUD/å¯¼å…¥å¯¼å‡ºï¼‰
â”‚   â”œâ”€â”€ evm-validate.js        # åœ°å€éªŒè¯ï¼ˆæ ¼å¼/æ ¡éªŒå’Œï¼‰
â”‚   â”œâ”€â”€ evm-extract-addresses.js # ä»é’±åŒ…æ–‡ä»¶æå–åœ°å€åˆ—è¡¨
â”‚   â”‚
â”‚   â”œâ”€â”€ evm-manager.sh         # äº¤äº’å¼èœå•ç®¡ç†
â”‚   â”œâ”€â”€ evm-init.sh            # ä¸€é”®åˆå§‹åŒ–
â”‚   â””â”€â”€ evm-backup.sh          # å¤‡ä»½è„šæœ¬
â”œâ”€â”€ test.js                    # è‡ªåŠ¨åŒ–æµ‹è¯•ï¼ˆ66ç”¨ä¾‹ï¼‰
â”œâ”€â”€ SKILL.md                   # ä½¿ç”¨æ–‡æ¡£
â””â”€â”€ node_modules/ethers/       # ä¾èµ–
```

### æ ¸å¿ƒè®¾è®¡

- **evm-common.js** ç»Ÿä¸€ç®¡ç†ï¼šRPCåœ°å€ã€vaultè·¯å¾„ã€ERC20 ABIã€é’±åŒ…åŠ è½½ã€æ–‡ä»¶è¯»å–ã€Gaså¼‚å¸¸ç¡®è®¤
- **vault/** å­˜æ”¾æ•æ„Ÿæ•°æ®ï¼ˆç§é’¥/åŠ©è®°è¯ï¼‰ï¼Œæƒé™ 600/700ï¼Œæ°¸ä¸è¿› LLM ä¸Šä¸‹æ–‡
- æ‰€æœ‰è„šæœ¬æ”¯æŒ `--help`ã€`--dry-run`ï¼ˆè½¬è´¦ç±»ï¼‰ã€`--rpc` è‡ªå®šä¹‰èŠ‚ç‚¹

---

## å‘ç°çš„é—®é¢˜åˆ†ç±»ä¸ç»Ÿè®¡

### ğŸ”´ ä¸¥é‡ï¼ˆä¼šå¯¼è‡´èµ„é‡‘æŸå¤±æˆ–å®‰å…¨é£é™©ï¼‰â€” 8 ä¸ª

| # | é—®é¢˜ | æ–‡ä»¶ | ä¿®å¤æ–¹å¼ |
|---|------|------|----------|
| 1 | sha256 ç”Ÿæˆå‡åœ°å€ï¼ˆé keccak256/secp256k1ï¼‰ | evm-wallet-generator.js | åˆ é™¤æ–‡ä»¶ï¼Œç”¨ ethers.js é‡å†™ |
| 2 | HD æ´¾ç”Ÿ `hdNode.derivePath()` åœ¨ ethers v6 ä¸å­˜åœ¨ | evm-wallet-gen.js | æ”¹ç”¨ `HDNodeWallet.fromPhrase()` |
| 3 | ERC20 ç”¨ `parseEther`/`formatEther` å¿½ç•¥ä»£å¸ç²¾åº¦ | å¤šä¸ªæ–‡ä»¶ | æ”¹ç”¨ `parseUnits`/`formatUnits` + å®é™… decimals |
| 4 | æ‰¹é‡è½¬è´¦æ—  nonce ç®¡ç†ï¼Œå¹¶å‘ nonce å†²çª | evm-batch-transfer.js | æ‰‹åŠ¨ `nonce++` |
| 5 | ETH è½¬è´¦ä½™é¢æ£€æŸ¥ä¸å« gas è´¹ç”¨ | evm-batch-transfer.js | `totalAmount + totalGasCost > balance` |
| 6 | ERC20 è½¬è´¦ä¸æ£€æŸ¥ ETH ä½™é¢æ˜¯å¦å¤Ÿä»˜ gas | evm-batch-transfer.js | æ–°å¢ ETH ä½™é¢æ£€æŸ¥ |
| 7 | å¯¼å‡ºå«ç§é’¥çš„æ–‡ä»¶æ— æƒé™é™åˆ¶ | evm-batch-gen.js | `mode: 0o600` |
| 8 | ç¡¬ç¼–ç å‡ API key | evm-tx-history.js | åˆ é™¤ï¼Œæ”¹ä¸ºå¿…é¡» `--api-key` |

### ğŸŸ¡ ä¸­ç­‰ï¼ˆä¼šå¯¼è‡´å´©æºƒæˆ–åŠŸèƒ½å¼‚å¸¸ï¼‰â€” 18 ä¸ª

| # | é—®é¢˜ | æ–‡ä»¶ | ä¿®å¤æ–¹å¼ |
|---|------|------|----------|
| 1 | gasPrice null å´©æºƒï¼ˆEIP-1559 é“¾ï¼‰ | å¤šä¸ªæ–‡ä»¶ | `gasPrice ?? maxFeePerGas ?? 0n` |
| 2 | ethers v5 APIï¼ˆ`utils.formatEther` ç­‰ï¼‰ | 5ä¸ªæ–‡ä»¶ | ç»Ÿä¸€ v6 å‘½åå¯¼å…¥ |
| 3 | `mnemonic.locale` å±æ€§ä¸å­˜åœ¨ | evm-wallet-gen.js | åˆ é™¤ |
| 4 | `tx.to === null` åˆçº¦åˆ›å»ºäº¤æ˜“å´©æºƒ | evm-tx-history.js | null æ£€æŸ¥ |
| 5 | `--to`/`--amount` å¿…é¡»ç›¸é‚»æ‰èƒ½è§£æ | evm-batch-transfer.js | ç‹¬ç«‹è§£æ |
| 6 | `.wait()` æ— è¶…æ—¶ï¼Œé“¾æ‹¥å µæ—¶æ°¸ä¹…é˜»å¡ | batch-transfer, collect | `.wait(1, 120000)` |
| 7 | labels import è¦†ç›–è€Œéåˆå¹¶ | evm-labels.js | `{ ...existing, ...imported }` |
| 8 | `formatEther` ç”¨äº ERC20 ä½™é¢ä¸è¶³é”™è¯¯ä¿¡æ¯ | evm-batch-transfer.js | `formatUnits` |
| 9 | batch-query ä»£å¸ decimals æœªå­˜å…¥ results | evm-batch-query.js | å­˜å…¥ results |
| 10 | `--format` æ—  `--output` é™é»˜å¿½ç•¥ | evm-batch-gen.js | æŠ¥é”™æç¤º |
| 11 | evm.js ç¼º 4 ä¸ªå­å‘½ä»¤è·¯ç”± | evm.js | è¡¥é½ batch-query/labels/validate/extract |
| 12 | collect è¦æ±‚ä¸»é’±åŒ…ç§é’¥ï¼ˆå®é™…åªéœ€åœ°å€ï¼‰ | evm-common.js | `loadMainWallet(requireKey=false)` |
| 13 | collect å­é’±åŒ…æ—  privateKey/address æ ¡éªŒ | evm-collect.js | å¾ªç¯å‰æ ¡éªŒ |
| 14 | vault è·¯å¾„ç¡¬ç¼–ç ä¸ä¸€è‡´ | wallet-gen, batch-gen | ç»Ÿä¸€ç”¨ `VAULT_DIR` |
| 15 | evm-init.sh vault è·¯å¾„é”™è¯¯ | evm-init.sh | å…¨é¢é‡å†™ |
| 16 | evm-backup.sh tar è§£å‹è·¯å¾„é”™è¯¯ | evm-backup.sh | å…¨é¢é‡å†™ |
| 17 | evm-manager.sh å˜é‡æœªåŠ å¼•å· | evm-manager.sh | å…¨éƒ¨åŠ å¼•å· |
| 18 | evm-manager.sh æ—  cd SCRIPT_DIR | evm-manager.sh | æ·»åŠ  |

### ğŸŸ¢ è½»å¾®ï¼ˆä»£ç è´¨é‡/æ€§èƒ½ï¼‰â€” 12 ä¸ª

| # | é—®é¢˜ | æ–‡ä»¶ | ä¿®å¤æ–¹å¼ |
|---|------|------|----------|
| 1 | `parseInt` æ—  NaN æ£€æŸ¥ï¼ˆ3å¤„ï¼‰ | wallet-gen, batch-gen, tx-history | åŠ æ£€æŸ¥ |
| 2 | JSON.parse æ—  try-catch | å¤šä¸ªæ–‡ä»¶ | ç»Ÿä¸€ç”¨ `readJSON` |
| 3 | readFileSync æ—  try-catch | å¤šä¸ªæ–‡ä»¶ | ç»Ÿä¸€ç”¨ `readLines` |
| 4 | ç©ºæ•°ç»„è¶Šç•Œï¼ˆ4å¤„ï¼‰ | å¤šä¸ªæ–‡ä»¶ | é•¿åº¦æ£€æŸ¥ |
| 5 | æœªä½¿ç”¨çš„ requireï¼ˆfs/pathï¼‰ | 4ä¸ªæ–‡ä»¶ | æ¸…ç† |
| 6 | `from collections import` åœ¨å‡½æ•°å†…éƒ¨ | gmgn_monitor.py | ç§»åˆ°æ–‡ä»¶å¤´ |
| 7 | ETH è½¬è´¦æœªæŒ‡å®š gasLimit | batch-transfer, collect | `gasLimit: 21000n` |
| 8 | getFeeData åœ¨å¾ªç¯å†…é‡å¤è°ƒç”¨ | evm-collect.js | æåˆ°å¾ªç¯å¤– |
| 9 | ä»£å¸ symbol/decimals æ¯åœ°å€é‡å¤æŸ¥è¯¢ | evm-batch-query.js | å¾ªç¯å¤–æŸ¥ä¸€æ¬¡ |
| 10 | æ±‡æ€»ç»Ÿè®¡ä» results é‡æŸ¥å·²æœ‰å˜é‡ | evm-batch-query.js | ç›´æ¥ç”¨å¤–éƒ¨å˜é‡ |
| 11 | labels addLabel æ›´æ–°æ—¶ä¸¢å¤± createdAt | evm-labels.js | ä¿ç•™åŸ createdAt |
| 12 | CSV å¯¼å‡ºæ— å¼•å·è½¬ä¹‰ | labels, batch-gen | åŠ  `esc()` å‡½æ•° |

### ğŸ“Š é—®é¢˜åˆ†å¸ƒ

```
ä¸¥é‡ ğŸ”´  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  8 ä¸ª (21%)
ä¸­ç­‰ ğŸŸ¡  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  18 ä¸ª (47%)
è½»å¾® ğŸŸ¢  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  12 ä¸ª (32%)
æ€»è®¡     38 ä¸ªï¼ˆå¦æœ‰ ~12 ä¸ª shell è„šæœ¬é—®é¢˜ï¼‰
```

---

## æ–°å¢åŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| Gas å¼‚å¸¸ç¡®è®¤ | è¶…é˜ˆå€¼ï¼ˆETH 0.0005/ç¬”ï¼ŒERC20 0.001/ç¬”ï¼‰æ—¶äº¤äº’ç¡®è®¤ |
| Gas 10% ä½™é‡ | å½’é›†æ—¶é¢„ç•™ gas æ³¢åŠ¨ç©ºé—´ |
| loadMainWallet å‚æ•°åŒ– | `requireKey=true/false`ï¼Œå½’é›†åªéœ€åœ°å€ |
| ç»Ÿä¸€è·¯ç”±è¡¥å…¨ | evm.js 11 ä¸ªå­å‘½ä»¤å…¨éƒ¨å¯è¾¾ |

---

## æµ‹è¯•

### è‡ªåŠ¨åŒ–æµ‹è¯•ï¼ˆtest.jsï¼‰

66 ä¸ªç”¨ä¾‹ï¼Œè¦†ç›– 13 ä¸ªæ¨¡å—ï¼š

| æ¨¡å— | ç”¨ä¾‹æ•° | è¦†ç›–èŒƒå›´ |
|------|--------|----------|
| evm-common.js | 9 | å¸¸é‡/è¯»å–/é’±åŒ…åŠ è½½/é˜ˆå€¼ |
| evm-wallet-gen.js | 6 | ç”Ÿæˆ/åŠ©è®°è¯/å‚æ•°æ ¡éªŒ |
| evm-batch-gen.js | 6 | ç”Ÿæˆ/å¯¼å‡ºæ ¼å¼/ä¸Šé™ |
| evm-validate.js | 5 | æœ‰æ•ˆ/æ— æ•ˆ/æ ¡éªŒå’Œ/æ–‡ä»¶ |
| evm-labels.js | 10 | CRUD/å¯¼å…¥å¯¼å‡º/è¾¹ç•Œ |
| evm-extract-addresses.js | 3 | æå–/ç©ºæ•°ç»„/æŸåæ–‡ä»¶ |
| evm-balance.js | 4 | å•æŸ¥/æ‰¹æŸ¥/é”™è¯¯ |
| evm-batch-query.js | 2 | æŸ¥è¯¢/å‚æ•°æ ¡éªŒ |
| evm-info.js | 2 | ä¿¡æ¯/éä¸»ç½‘æç¤º |
| evm-tx-history.js | 3 | å‚æ•°æ ¡éªŒ |
| evm-batch-transfer.js | 7 | å‚æ•°/åœ°å€/é‡‘é¢/dry-run |
| evm-collect.js | 5 | å‚æ•°/ç©ºæ–‡ä»¶/å­—æ®µæ ¡éªŒ |
| evm.js | 4 | å¸®åŠ©/è·¯ç”±/æœªçŸ¥å‘½ä»¤ |

### Sepolia æµ‹è¯•ç½‘å®æµ‹

- æ‰¹é‡è½¬è´¦ 2 ç¬” Ã— 0.001 ETH â†’ âœ… æˆåŠŸ
- å½’é›† 2 ç¬”å›ä¸»åœ°å€ â†’ âœ… æˆåŠŸ
- nonce è¿ç»­é€’å¢æ— å†²çª â†’ âœ…
- gas ä¼°ç®— + 10% ä½™é‡ â†’ âœ…
- 120 ç§’è¶…æ—¶æœºåˆ¶ â†’ âœ…

---

## å¤ç›˜ä¸æ”¹è¿›æ–¹å‘

### æœ¬æ¬¡å®¡æŸ¥çš„æ•™è®­

1. **ethers v5â†’v6 è¿ç§»ä¸å½»åº•**ï¼šåŸä»£ç æ··ç”¨ v5/v6 APIï¼Œè¯´æ˜è¿ç§»æ—¶æ²¡æœ‰é€æ–‡ä»¶éªŒè¯ã€‚ä»¥åå‡çº§ä¾èµ–åº”è¯¥æœ‰ checklistã€‚

2. **å®‰å…¨æ„è¯†ä¸è¶³**ï¼šsha256 ç”Ÿæˆåœ°å€ã€æ— æƒé™æ§åˆ¶çš„ç§é’¥å¯¼å‡ºã€ç¡¬ç¼–ç å‡ API keyâ€”â€”è¿™äº›éƒ½æ˜¯åŸºæœ¬å®‰å…¨é—®é¢˜ã€‚æ¶‰åŠç§é’¥çš„ä»£ç åº”è¯¥æœ‰ä¸“é—¨çš„å®‰å…¨å®¡æŸ¥æµç¨‹ã€‚

3. **ç¼ºå°‘é›†æˆæµ‹è¯•**ï¼šåŸä»£ç æ²¡æœ‰ä»»ä½•æµ‹è¯•ï¼Œå¯¼è‡´é—®é¢˜ç§¯ç´¯åˆ° 50+ ä¸ªæ‰è¢«å‘ç°ã€‚ç°åœ¨æœ‰ 66 ä¸ªç”¨ä¾‹ï¼Œä½†è¿˜ç¼ºå°‘ï¼š
   - ERC20 ä»£å¸çš„ç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆéœ€è¦æµ‹è¯•ç½‘ ERC20ï¼‰
   - Gas å¼‚å¸¸ç¡®è®¤çš„äº¤äº’æµ‹è¯•
   - å¹¶å‘/å‹åŠ›æµ‹è¯•

4. **Shell è„šæœ¬è´¨é‡å·®**ï¼šè·¯å¾„ç¡¬ç¼–ç ã€å˜é‡ä¸åŠ å¼•å·ã€tar å‘½ä»¤å‚æ•°é”™è¯¯â€”â€”shell è„šæœ¬å®¹æ˜“è¢«å¿½è§†ä½†åŒæ ·éœ€è¦å®¡æŸ¥ã€‚

### åç»­æ”¹è¿›è®¡åˆ’

- [ ] éƒ¨ç½²æµ‹è¯•ç½‘ ERC20 åˆçº¦ï¼Œè¡¥å……ä»£å¸è½¬è´¦/å½’é›†çš„ç«¯åˆ°ç«¯æµ‹è¯•
- [ ] æ·»åŠ  `--gas-price` æ‰‹åŠ¨æŒ‡å®š gas ä»·æ ¼çš„é€‰é¡¹ï¼ˆåº”å¯¹æç«¯è¡Œæƒ…ï¼‰
- [ ] æ·»åŠ  `--max-fee` å•ç¬”æœ€å¤§ gas è´¹ç”¨ç¡¬ä¸Šé™
- [ ] batch-transfer æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼ˆè®°å½•å·²æˆåŠŸçš„ txï¼Œå¤±è´¥åå¯ä»æ–­ç‚¹ç»§ç»­ï¼‰
- [ ] è€ƒè™‘ multicall åˆçº¦æ‰¹é‡æŸ¥è¯¢ï¼Œå‡å°‘ RPC è°ƒç”¨æ¬¡æ•°
- [ ] evm-balance.js çš„ batchQuery ä¹Ÿåšä»£å¸ä¿¡æ¯ç¼“å­˜ä¼˜åŒ–
- [ ] å®šæœŸè¿è¡Œ test.js ä½œä¸ºå›å½’æµ‹è¯•ï¼ˆå¯åŠ å…¥ cronï¼‰

---

*æŠ¥å‘Šç”Ÿæˆæ—¶é—´ï¼š2026-02-26 18:09 GMT+8*
*å®¡æŸ¥è½®æ¬¡ï¼š14+ | ä¿®å¤é—®é¢˜ï¼š50+ | æµ‹è¯•ç”¨ä¾‹ï¼š66 | é€šè¿‡ç‡ï¼š100%*
